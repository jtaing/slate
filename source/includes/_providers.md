# Providers

################
## The provider
################

A provider represents an electricity provider (a utility). It has a display name and holds a pollution rate, which enables the server to generate pollution saving numbers.

Provides are referenced by an internal ID generated by the server.

|Attributes    |         |
|------------- |---------|
|id           | Internal ID (int) |
|name         | Name |
|pollution    | Number of kg of emitted CO2 per generated KWh | 
|type         | `provider` by default |


#####################
## Create a provider 
#####################

> Create a provider called *My new provider* 

```python
import requests

payload = {
  'name': 'My new provider', 
  'pollutionRate': 0.42,
  'ser': 'json'
}

r = requests.post(SLV_CMS + "/api/assetmanagement/createProvider", data=payload, auth=('USERNAME', 'PASSWORD'))
```

> Example response

```python
{
  "id" : 3826,
  "name" : "My new provider",
  "pollution" : 0.42,
  "type" : "provider"
}
```

To create a new provider, call the method `createProvider` available at `/api/assetmanagement`.

|Arguments |         |
|----------|---------|
|name (required)       | Provider name |
|pollutionRate (required)    | Number of kg of emitted CO2 per generated KWh (float) |


###########################
## Retrieve all providers
###########################

> Get all providers

```python
import requests

payload = {
  'ser': 'json'
}

r = requests.get(SLV_URL + "/api/asset/getAllProviders", params=payload, auth=('USERNAME', 'PASSWORD'))
```

> Example response

```python
[
 {
  "id" : 4,
  "name" : "EDF",
  "pollution" : 0.11,
  "type" : "provider"
 },
 {
  "id" : 5,
  "name" : "RWE",
  "pollution" : 0.783,
  "type" : "provider"
 },
 ...
]
```

To retrieve the list of all providers, call the method `getAllProviders` available at `/api/asset`. This method has no required parameter.


#####################
## Update a provider
#####################


> Change the pollution rate of the provider ID 3826

```python
import requests

payload = {
  'providerId': 3826,
  'newName': 'My new provider',
  'pollutionRate': 0.11,
  'ser': 'json'
}

r = requests.post(SLV_CMS + "/api/assetmanagement/updateProvider", data=payload, auth=('USERNAME', 'PASSWORD'))
```

> Example response

```python
{
 "id" : 3826,
 "name" : "My new provider",
 "pollution" : 0.11,
 "type" : "provider"
}
```

To change the name or the pollution rate of provider, you may call `updateProvider` available at `/api/assetmanagement`.

|Arguments |         |
|----------|---------|
|providerId (required)       | Provider ID |
|newName (required)   | Provider name |
|pollutionRate (required)  | Number of kg of emitted CO2 per generated KWh (float) |


##########################
## Delete a provider
##########################

> Delete the provider ID 3826

```python
import requests

payload = {
  'id': 3826,
  'ser': 'json'
}

r = requests.post(SLV_CMS + "/api/assetmanagement/deleteProvider", data=payload, auth=('USERNAME', 'PASSWORD'))
```

> Example response

```python
{
 "errorCode" : "0",
 "errorCodeLabel" : null,
 "message" : null,
 "status" : "OK",
 "statusError" : false,
 "statusOk" : true,
 "value" : null
}
```

To delete a provider, call the method `deleteProvider` available at `/api/assetmanagement`.

|Arguments |         |
|----------|---------|
|id (required)       | Provider ID |

